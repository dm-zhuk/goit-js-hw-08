{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input[name=\"email\"]');\nconst messageInput = form.querySelector('textarea[name=\"message\"]');\n\n// Save form state to localStorage\nconst saveFormState = () => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n};\n\n// Load form state from localStorage\nconst loadFormState = () => {\n  const formStateJSON = localStorage.getItem('feedback-form-state');\n\n  if (formStateJSON) {\n    const formState = JSON.parse(formStateJSON);\n\n    emailInput.value = formState.email;\n    messageInput.value = formState.message;\n  }\n};\n\n// Clear form state and localStorage\nconst clearFormState = () => {\n  emailInput.value = '';\n  messageInput.value = '';\n\n  localStorage.removeItem('feedback-form-state');\n};\n\n// Handle form submission\nconst handlerSubmit = event => {\n  event.preventDefault();\n\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n\n  // Add a check in the `handlerSubmit` function to make the form submit only when both fields are filled\n  if (formState.email && formState.message) {\n    console.log(formState);\n    clearFormState();\n  } else {\n    alert('Fill in both fields before submit, please');\n  }\n};\n\n// Listen for \"input\" event and save form state using throttle to limit the frequency of updates\nform.addEventListener('input', throttle(saveFormState, 500));\n\n// Load form state when the page loads\nwindow.addEventListener('load', loadFormState);\n\n// Handle form submission\nform.addEventListener('submit', handlerSubmit);\n"],"names":["form","emailInput","messageInput","saveFormState","formState","loadFormState","formStateJSON","clearFormState","handlerSubmit","event","throttle"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,qBAAqB,EACrDE,EAAeF,EAAK,cAAc,0BAA0B,EAG5DG,EAAgB,IAAM,CAC1B,MAAMC,EAAY,CAChB,MAAOH,EAAW,MAClB,QAASC,EAAa,KAC1B,EACE,aAAa,QAAQ,sBAAuB,KAAK,UAAUE,CAAS,CAAC,CACvE,EAGMC,EAAgB,IAAM,CAC1B,MAAMC,EAAgB,aAAa,QAAQ,qBAAqB,EAEhE,GAAIA,EAAe,CACjB,MAAMF,EAAY,KAAK,MAAME,CAAa,EAE1CL,EAAW,MAAQG,EAAU,MAC7BF,EAAa,MAAQE,EAAU,OAChC,CACH,EAGMG,EAAiB,IAAM,CAC3BN,EAAW,MAAQ,GACnBC,EAAa,MAAQ,GAErB,aAAa,WAAW,qBAAqB,CAC/C,EAGMM,EAAgBC,GAAS,CAC7BA,EAAM,eAAc,EAEpB,MAAML,EAAY,CAChB,MAAOH,EAAW,MAClB,QAASC,EAAa,KAC1B,EAGME,EAAU,OAASA,EAAU,SAC/B,QAAQ,IAAIA,CAAS,EACrBG,KAEA,MAAM,2CAA2C,CAErD,EAGAP,EAAK,iBAAiB,QAASU,EAASP,EAAe,GAAG,CAAC,EAG3D,OAAO,iBAAiB,OAAQE,CAAa,EAG7CL,EAAK,iBAAiB,SAAUQ,CAAa"}